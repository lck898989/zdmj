<!--pages/lck/editAddress/editAddress.wxml-->
<view class="page-con">
    <view wx:if='{{errorObj.infoError}}' class='error-con'>
        <view class="error-detail">
            <image src='../../../resources/warning.png' style='width:40rpx;height:40rpx;'></image>
            <view style='margin-left:20rpx;'>
                {{errorObj.errorMsg}}
            </view>
        </view>
    </view>
    <view style='width:100%;background-color:#fff;'>
        <view class="editor-con">
            <view class='editor-item'>
                <input type="text" placeholder='{{isAddress ? "收货人" : currentAdd.recipient}}' bindinput='getEditUser' bindblur='checkName' data-user='{{isAddress ? "add" : ""}}'/>
            </view>
            <view class='editor-item'>
                <view>
                    <input type="text" placeholder='{{isAddress ? "请输入电话号码" : currentAdd.phone}}' bindinput='getEditPhone' bindfocus='checkName' bindblur='checkNumber' data-user='{{isAddress ? "add" : ""}}'/>
                </view>
                <view id='phone_type' style='color:#bebebe'>
                    +86
                </view>
            </view>
            <view class='editor-item'>
                <view>
                    <!-- <view>{{currentAdd.district}}</view> -->
                    <input type="text" placeholder="{{isAddress ? addressText : currentAdd.district}}" bindfocus='showAddress' style='width:600rpx;' value='{{address.province}}{{address.city}}{{address.district}}' data-user='{{isAddress ? "add" : ""}}'/>
                </view>
            </view>
            <view class='editor-item'>
                <input type="text" placeholder="{{isAddress ? addressDetail : currentAdd.detaildistrict}}" bindinput='getEditAddressDetail' style='width:700rpx' data-user='{{isAddress ? "add" : ""}}'/>
            </view>
        </view>
    </view>
    <view class='set-default'>
        <!--设置默认地址-->
        <view class='default-left'>
            设为默认地址
        </view>
        <view class='default-right'>
            <block wx:if='{{!isAddress}}'>
                <switch bindchange='setDefault' checked='{{currentAdd.state === 0 ? true : false}}'>
                </switch>
            </block>
            <block wx:else>
                <switch bindchange='getDefault'>
                </switch>
            </block>
        </view>
    </view>
    <view wx:if='{{!isAddress}}' class='deleteAdd' bindtap='deleteAdd'>
        删除地址
    </view>
    <view class="save-container" bindtap='saveEditAdd' data-user='{{isAddress ? "add" : ""}}'>
        <!-- <view class="save-btn" bindtap='saveEditAdd'>
            保存
        </view> -->
        <view wx:if='{{!isAddress}}'>
            保存地址
        </view>
        <view wx:else>
            添加地址
        </view>
    </view>
</view>
